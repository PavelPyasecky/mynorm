#!/bin/bash

# Script to install Python dependencies with proper permissions using uv
set -e

echo "Installing Python dependencies using uv..."

# Activate virtual environment
source /venv/bin/activate

# Install dependencies using uv with proper permissions
uv pip install --no-cache-dir -r requirements.txt --python /venv/bin/python

# Ensure django user owns the virtual environment
chown -R django:django /venv
chmod -R 755 /venv

echo "Dependencies installed successfully with uv!"
